---
- name: install HTTP server
  hosts: g1
  become: yes
  tasks:
   - name: Install Httpd
     yum:
       name: httpd
       state: present
     when: ansible_distribution == "Amazon" or ansible_distribution == "Red Hat" or ansible_distribution == "CentOS"

   - name: Start Httpd
     service:
       name: httpd 
       state: started
     when: ansible_distribution == "Amazon" or ansible_distribution == "Red Hat" or ansible_distribution == "CentOS"

   - name: Enable Httpd
     service:
       name: httpd 
       enabled: yes 
     when: ansible_distribution == "Amazon" or ansible_distribution == "Red Hat" or ansible_distribution == "CentOS"


   - name: Install Apache2
     apt:
       name: apache2
       state: present
     when: ansible_distribution == "Ubuntu" or ansible_distribution == "ubuntu" or ansible_distribution == "Debian"

   - name: Start Apache2
     service:
       name: apache2 
       state: started
     when: ansible_distribution == "Ubuntu" or ansible_distribution == "ubuntu" or ansible_distribution == "Debian"

   - name: Enable Apache2
     service:
       name: apache2 
       enabled: yes 
     when: ansible_distribution == "Ubuntu" or ansible_distribution == "ubuntu" or ansible_distribution == "Debian"
...